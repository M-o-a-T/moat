toplevel: "moat"
done: "/src/DONE"
move:
  prefix: "_mv_"
  src:
    api: github
    name: Github
    branch: migrated
    token: YOUR_API_KEY_HERE
    user: yourname
    parented: false
    # org: org-name
  dst:
    name: Codeberg
    api: forgejo
    host: "codeberg.org"
    user: yourname
    token: YOUR_API_KEY_HERE
    # org: org-name
  local:
    name: Backup
    api: localgit
    host: "git.yourdomain.example"
    # ext_url: "https://git.yourdomain.example/NAME"
    # git_url: "https://git.yourdomain.example/NAME.git"
    # ssh_url: "git+ssh://git@git.yourdomain.example/NAME.git"
    # git_user: "git"
    # repo: Foo  # NAME
    command: "false"
  rad:
    name: Radicle
    api: radicle
    gateway: rosa.radicle.xyz
    web: app.radicle.xyz

    private: false
    seed: true

  cache: /src/mig
  branch: main  # name of the default branch
  work:
    to:
      rad: false
      dst: true
      local: true
    kill: true  # remove from source repo
    migrate: true  # generate a "migrated" README
    parallel: 1
    main: true  # rename "master" branch
  readme:
    name: "README.md"  # use LOCATIONS.md if mot removing from source
    content: |
      {% if work.to.src %}
      # Archives of {{name}}

      This repository is available at these locations:
      {% else %}
      # Moving off {{src.name}}

      This repository has moved.

      New locations:
      {% endif %}
      {% if work.to.src | default(False) -%}
      * {{ repos.src.api.cfg.name}}: {{ repos.src.ext_url }}
      {% endif -%}
      {% for k,v in work.to.items() -%}
      {% if k != "src" and v -%}
      * {{repos[k].api.cfg.name}}: {{ repos[k].ext_url }}
      {% endif -%}
      {% endfor -%}
